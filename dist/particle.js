/*
* Paricle.js 
* @author thenocturnalguy
* @date 13-12-2020
* @updated 16-12-2020
* @license MIT
*/

!function(t){"use strict";function i(t,i,s,a,h=80,e=!0){this.area=document.createElement("canvas"),this.area.setAttribute("class","_particlesCanvas_"),this.area.width=i,this.area.height=s,this.colors=a,this.numParticles=h,this.shouldCaptureMouse=e,this._ctx=this.area.getContext("2d"),this._particles=[],this._maxRadius,this._minRadius=4*Math.random()+2,this._mouse={},this._frame,t.appendChild(this.area),this.shouldCaptureMouse&&function(t,i){i.addEventListener("mousemove",function(i){t._mouse.x=i.x,t._mouse.y=i.y})}(this,this.area)}i.prototype={_init:function(t){t.x=Math.random()*this.area.width,t.y=Math.random()*this.area.height,t.vx=1*(Math.random()-.5),t.vy=1*(Math.random()-.5),t.radius=4*Math.random()+2,t.color=this.colors[Math.floor(Math.random()*this.colors.length)]},_update:function(){this._particles.forEach(t=>{(t.x>this.area.width-t.radius||t.x<t.radius)&&(t.vx=-t.vx),(t.y>this.area.height-t.radius||t.y<t.radius)&&(t.vy=-t.vy),t.x+=t.vx,t.y+=t.vy,this.shouldCaptureMouse&&(this._mouse.x-t.x<this._maxRadius&&this._mouse.x-t.x>-this._maxRadius&&this._mouse.y-t.y<this._maxRadius&&this._mouse.y-t.y>-this._maxRadius?t.radius<this._maxRadius&&(t.radius+=8):t.radius>this._minRadius&&(t.radius-=1)),this._draw(t)})},_draw:function(t){this._ctx.beginPath(),this._ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),this._ctx.fillStyle=t.color,this._ctx.fill(),this._ctx.closePath()},_add:function(){let t={};this._particles.length<this.numParticles&&(this._init(t),this._particles.push(t))},_flush:function(){this._particles.splice(0,this.numParticles)},_push:function(){this._flush(),this.area.width<this.numParticles?this._maxRadius=20:this.area.width>this.numParticles&&(this._maxRadius=50);for(let t=0;t<this.numParticles;++t)this._add()},_refresh:function(){this._frame=t.requestAnimationFrame(this._refresh.bind(this)),this._ctx.clearRect(0,0,this.area.width,this.area.height),this._update()},start:function(){this._push(),this._refresh()},stop:function(){t.cancelAnimationFrame(this._frame),this._ctx.clearRect(0,0,this.area.width,this.area.height),this._flush()}},t.Particles=function(t,s,a,h,e=80,r=!0){let u=new i(t,s,a,h,e,r);return{start:u.start.bind(u),stop:u.stop.bind(u)}}}(window);